---
import MainLayout from '../layouts/Layout.astro';
import Navbar from '../components/navbar.tsx';
import Hero from '../components/hero.tsx';
import Stacks from '../components/stacks.astro';
import LogoAnimation from '../components/logoAnimation.tsx';
import Portfolio from '../components/portfolio.tsx';
import Contact from '../components/contact.tsx';
import Footer from '../components/footer.astro';
import { getSEOData } from '../lib/astro-api';

let seoData;
try {
  seoData = await getSEOData();
} catch (e) {
  seoData = null;
}
---

<MainLayout 
  title={seoData?.siteTitle || ''}
  description={seoData?.siteDescription || ''}
  image={seoData?.ogImage || undefined}
  keywords={seoData?.keywords || []}
>

  <Navbar client:load />

  <main>
    <Hero client:visible/>
    <Stacks/>
    <LogoAnimation client:visible/>
    <Portfolio client:visible/>
    <Contact client:visible/>
  </main>
  
  <Footer />
</MainLayout>